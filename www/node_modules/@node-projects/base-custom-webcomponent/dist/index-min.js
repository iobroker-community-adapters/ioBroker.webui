var T=new WeakMap;function A(s,e){let t=i=>{let r=setTimeout(()=>{e(i)},500);window.addEventListener("touchend",()=>{clearTimeout(r)})};s.addEventListener("touchstart",t),s.addEventListener("contextmenu",e),T.set(e,t)}function K(s,e){let t=T.get(e);T.delete(e),s.removeEventListener("touchstart",t),s.removeEventListener("contextmenu",t)}var O=class{constructor(e,t){this.newValue=e,this.oldValue=t}},x=class{constructor(){this.listeners=[],this.listenersOncer=[],this.listenerSingle=null,this.on=e=>(this.listeners.push(e),{dispose:()=>this.off(e)}),this.single=e=>(this.listenerSingle=e,{dispose:()=>{this.listenerSingle===e&&(this.listenerSingle=null)}}),this.once=e=>{this.listenersOncer.push(e)},this.off=e=>{let t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)},this.emit=e=>{if(this.listeners.forEach(t=>t(e)),this.listenersOncer.length>0){let t=this.listenersOncer;this.listenersOncer=[],t.forEach(i=>i(e))}this.listenerSingle&&this.listenerSingle(e)},this.pipe=e=>this.on(t=>e.emit(t))}};function J(s){return function(e){e.is=s,customElements.define(s,e)}}globalThis.baseCustomWebComponentPropertyMetadata??=new WeakMap;var z=(s,e,t)=>{Object.hasOwn(e.constructor,"properties")||(e.constructor.properties?Object.defineProperty(e.constructor,"properties",{value:{...e.constructor.properties},writable:!0,configurable:!0}):e.constructor.properties={}),s&&s.type!=null?e.constructor.properties[t]=s:e.constructor.properties[t]=s||String},$={attribute:!0,type:String,reflect:!1},X=(s,e,t)=>{let{metadata:i}=t;if(i==null)throw new Error("missing-class-metadata or polyfill-symbol-metadata");let r=globalThis.baseCustomWebComponentPropertyMetadata.get(i);throw r===void 0&&globalThis.baseCustomWebComponentPropertyMetadata.set(i,r=new Map),new Error("new decorators not yet supported! (need work)")};function Z(s){return(e,t)=>typeof t=="object"?X(s??$,e,t):z(s,e,t)}function V(s,e){if(s.length===1)return s.raw[0];{let t="";for(let i=0;i<s.length;i++)t+=s[i]+(e[i]??"");return t}}var ne=function(s,...e){let t=document.createElement("template");return t.innerHTML=V(s,e),t},ie=function(s){let e=document.createElement("template");return e.innerHTML=s,e},j=function(s,...e){let t=new CSSStyleSheet;return t.replaceSync(V(s,e)),t},F=function(s){if(typeof s=="object"&&s.default instanceof CSSStyleSheet)return s.default;if(s instanceof CSSStyleSheet)return s;let e=new CSSStyleSheet;return e.replaceSync(s),e},G=/\[\[.*?\]\]/g,y=class _BaseCustomWebComponentNoAttachedTemplate extends HTMLElement{_getDomElement(s){return this.shadowRoot.children.length>1||this.shadowRoot.children[0]!==void 0&&this.shadowRoot.children[0].localName!=="style"?this.shadowRoot.getElementById(s):this._rootDocumentFragment.getElementById(s)}_getDomElements(s){return this.shadowRoot.children.length>1||this.shadowRoot.children[0]!==void 0&&this.shadowRoot.children[0].localName!=="style"?this.shadowRoot.querySelectorAll(s):this._rootDocumentFragment.querySelectorAll(s)}_assignEvents(s){if(s||(s=this.shadowRoot.children.length>0?this.shadowRoot:this._rootDocumentFragment),s instanceof Element){for(let e of s.attributes)if(e.name.startsWith("@")&&!e.value.startsWith("[["))try{if(e.name=="@touch:contextmenu")A(s,this[e.value].bind(this));else{let t=e.name.substr(1);t[0]==="@"&&(t=t.replace(/-([a-z])/g,r=>r[1].toUpperCase()));let i=t.replace(/-([a-z])/g,r=>r[1].toUpperCase());s[i]instanceof x?s[i].on(this[e.value].bind(this)):s.addEventListener(t,this[e.value].bind(this))}}catch(t){console.warn(t.message,'Failed to attach event "',e,s)}}for(let e of s.childNodes)this._assignEvents(e)}_bindingsParse(s,e=!1,t=null,i=null,r=!1){this._bindingsInternalParse(s,null,e,t,i,r)}_bindingsInternalParse(s,e,t,i,r,a=!1){this._bindings||(this._bindings=[]),s||(s=this.shadowRoot.childNodes.length>0?this.shadowRoot:this._rootDocumentFragment);let c=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,null),m=s,_=m;for(;_&&(_=m,!!_);){m=c.nextNode();let l=_;if(l.nodeType===1){let u=Array.from(l.attributes);for(let o of u)if(o.value[0]==="["&&o.value[1]==="["&&o.value[o.value.length-1]==="]"&&o.value[o.value.length-2]==="]"){if(o.name.startsWith("css:")){let h=o.value.substring(2,o.value.length-2).replaceAll("&amp;","&"),d=o.name.substring(4,o.name.length).replace(/-([a-z])/g,g=>g[1].toUpperCase()),f=()=>this._bindingSetElementCssValue(l,d,h,e,i,r);this._bindings.push([f,null]),f()}else if(o.name.startsWith("class:")){let h=o.value.substring(2,o.value.length-2).replaceAll("&amp;","&"),d=o.name.substring(6,o.name.length).replace(/-([a-z])/g,g=>g[1].toUpperCase()),f=()=>this._bindingSetElementClass(l,d,h,e,i,r);this._bindings.push([f,null]),f()}else if(o.name.startsWith("bcw:")){if(o.name==="bcw:visible"){let h=o.value.substring(2,o.value.length-2).replaceAll("&amp;","&"),d=l.style.display,f=()=>this._bindingSetElementCssValue(l,"display",h+"?'"+d+"':'none'",e,i,r);this._bindings.push([f,null]),f()}}else if(!(o.name.length===28&&o.name==="repeat-changed-item-callback"))if(o.name==="if"&&l instanceof HTMLTemplateElement){let h=o.value.substring(2,o.value.length-2).replaceAll("&amp;","&"),d=[],f=()=>this._bindingConditional(l,h,e,d,i,r);this._bindings.push([f,null]),f()}else if(o.name.startsWith("repeat:")){let h=o.value.substring(2,o.value.length-2).replaceAll("&amp;","&"),d=o.name.substring(7,o.name.length).replace(/-([a-z])/g,S=>S[1].toUpperCase()),f=[],g="index",b=null,w=u.find(S=>S.name=="repeat-index");w&&(g=w.value);let C=u.find(S=>S.name=="repeat-changed-item-callback");C&&(b=C.value);let v=()=>this._bindingRepeat(l,d,g,h,b,e,f,i,r);this._bindings.push([v,null]),v()}else if(o.name[0]==="@"){let h;o.name[1]==="@"?h=o.name.substring(2,o.name.length).replace(/-([a-z])/g,f=>f[1].toUpperCase()):h=o.name.substring(1,o.name.length);let d=o.value.substring(2,o.value.length-2).replaceAll("&amp;","&");o.name=="@touch:contextmenu"?A(l,f=>this._bindingRunEval(d,e,f,i,r,l)):l[h]instanceof x?l[h].on(f=>this._bindingRunEval(d,e,f,i,r,l)):l.addEventListener(h,f=>this._bindingRunEval(d,e,f,i,r,l))}else{let h=o.value.substring(2,o.value.length-2).replaceAll("&amp;","&"),d=o.name;o.name[0]!=="$"&&o.name[0]!=="?"&&(d=o.name.replace(/-([a-z])/g,b=>b[1].toUpperCase()));let f=!1;h[0]==="?"&&(h=h.substring(1),f=!0);let g=(b,w)=>this._bindingSetNodeValue(b,l,o,d,h,e,t,i,r,f,w);this._bindings.push([g,null]),g(!0,!1)}}else if(o.value[0]==="{"&&o.value[1]==="{"&&o.value[o.value.length-1]==="}"&&o.value[o.value.length-2]==="}"){let h=o.value.substring(2,o.value.length-2).split("::"),d=o.name;(d[0]=="."||d[0]=="$"||d[0]=="?")&&(d=d.substring(1));let f=h[0],g=l instanceof HTMLInputElement||l instanceof HTMLTextAreaElement?d==="checked"?"change":"input":l instanceof HTMLSelectElement?"change":d+"-changed";h.length>1&&h[1]&&(g=h[1]);let b=d.replace(/-([a-z])/g,v=>v[1].toUpperCase()),w=!1;f[0]==="?"&&(f=f.substring(1),w=!0);let C=(v,S)=>this._bindingSetNodeValue(v,l,o,b,f,e,t,i,r,w,S);if(this._bindings.push([C,null]),C(!0,!1),g)for(let v of g.split(";"))l[v]instanceof x?l[v].on(S=>this._bindingsSetValue(i??this,f.replaceAll("?",""),this._getNodeValue(o.name[0],l,b,d),r,e)):l.addEventListener(v,S=>this._bindingsSetValue(i??this,f.replaceAll("?",""),this._getNodeValue(o.name[0],l,b,d),r,e))}}else if(l.nodeType===3&&l.nodeValue.indexOf("[[")>=0){let u=l.nodeValue,o=u.matchAll(G),h=0,d,f=u.trim().length;for(let g of o)if((g[0].length==f||g.index==0&&g[0].length==u.length)&&l.parentNode.childNodes.length==1){let b=l.parentNode;l.parentNode.removeChild(l),this._textFragmentBinding(b,g,e,t,i,r)}else{if(d||(d=document.createDocumentFragment()),g.index-h>0){let w=document.createTextNode(u.substr(h,g.index-h));d.appendChild(w)}let b=document.createElement("span");this._textFragmentBinding(b,g,e,t,i,r),d.appendChild(b),h=g.index+g[0].length}if(d){if(h>0&&u.length-h>0){let g=document.createTextNode(u.substr(h,u.length-h));d.appendChild(g)}l.parentNode.replaceChild(d,l)}}}}_getNodeValue(s,e,t,i){return s==="?"?e.hasAttribute(i):s==="$"?e.getAttribute(i):e[t]}_textFragmentBinding(s,e,t,i,r,a){let c=e[0].substr(2,e[0].length-4),m=!1;c[0]==="?"&&(c=c.substring(1),m=!0);let _=(l,u)=>this._bindingSetNodeValue(l,s,null,"innerHTML",c,t,i,r,a,m,u);this._bindings.push([_,null]),_(!0,!1)}_bindingRunEval(s,e,t,i,r,a){return i?this._bindingRunEvalInt.bind(i)(s,e,t,r,a):this._bindingRunEvalInt(s,e,t,r,a)}_bindingRunEvalInt(expression,repeatBindingItems,event,context,sender){if(repeatBindingItems){let n=0,set=new Set;for(let s of repeatBindingItems)set.has(s.name)||(expression="let "+s.name+" = ___repeatBindingItems["+n+"].item;"+expression,set.add(s.name)),n++;if(event&&(expression="let event = ___event;"+expression),sender&&(expression="let sender = ___sender;"+expression),context)for(let s in context)expression="let "+s+' = ___context["'+s+'"];'+expression;var ___repeatBindingItems=repeatBindingItems,___event=event,___sender=sender,___context=context;let value=eval(expression);return value}if(context){event&&(expression="let event = ___event;"+expression),sender&&(expression="let sender = ___sender;"+expression);for(let s in context)expression="let "+s+' = ___context["'+s+'"];'+expression;var ___event=event,___sender=sender,___context=context;let value=eval(expression);return value}event&&(expression="let event = ___event;"+expression),sender&&(expression="let sender = ___sender;"+expression);var ___event=event,___sender=sender;let value=eval(expression);return value}_bindingConditional(s,e,t,i,r,a){try{let c=this._bindingRunEval(e,t,null,r,a,s);if(!c&&i.length>0){for(let m of i)m.parentNode.removeChild(m);i.length=0}if(c&&i.length===0){let m=document.importNode(s.content,!0);i.push(...m.children),this._bindingsInternalParse(m,t,!0,r,a),s.parentNode.insertBefore(m,s)}}catch(c){this._noWarningOnBindingErrors||console.warn(c.message,'Failed to bind Conditional to expression "'+e+'"',this,s)}}_bindingRepeat(s,e,t,i,r,a,c,m,_){try{let l=this._bindingRunEval(i,a,null,m,_,s);l&&!Array.isArray(l)&&(l=[...l]);let u=s[this.oldValuesSymbol];if(u!==l&&(u?.length!==l?.length||l.some((o,h)=>o!==u?.[h]))){Array.isArray(l)?s[this.oldValuesSymbol]=[...l]:s[this.oldValuesSymbol]=l,r&&(r.startsWith("[[")&&r.endsWith("]]")?r=r.substring(2,r.length-2):r="this."+r);for(let o of c)if(o.parentNode){let h=[];h.push({name:"nodes",item:[o]}),h.push({name:"callbackType",item:"remove"}),this._bindingRunEval(r,h,null,m,_,s);let d=this._repeatBindings.get(o);if(d?.length)for(let f of d){let g=this._bindings.indexOf(f);g>=0&&this._bindings.splice(g,1)}o.parentNode.removeChild(o)}if(c.length=0,l){this._repeatBindings||(this._repeatBindings=new WeakMap);let o=0;for(let h of l){let d=[];a&&(d=a.slice()),d.push({name:e,item:h}),d.push({name:t,item:o});let f=document.importNode(s.content,!0);c.push(...f.children);let g=this._bindings.length;if(this._bindingsInternalParse(f,d,!0,m,_),this._repeatBindings.set(f.children[0],this._bindings.toSpliced(0,g)),r){d.push({name:"nodes",item:[...f.children]}),d.push({name:"callbackType",item:"create"});let b=this._bindingRunEval(r,d,null,m,_,s);if(b===void 0&&(b=f.children),b)for(let w of Array.from(b))s.parentNode.insertBefore(w,s)}else s.parentNode.insertBefore(f,s);o++}}}}catch(l){this._noWarningOnBindingErrors||console.warn(l.message,'Failed to bind Repeat "'+e+'" to expression "'+i+'"',this,s)}}_bindingSetNodeValue(s,e,t,i,r,a,c,m,_,l,u){try{let o=this._bindingRunEval(r,a,null,m,_,e);if(s||e[i]!==o)if(c&&t&&e.removeAttribute(t.name),i==="innerHTML"&&(o instanceof Element||o instanceof DocumentFragment)){for(let h=e.firstChild;h!==null;h=e.firstChild)e.removeChild(h);this._bindingsInternalParse(o,a,!0,m,_),e.appendChild(o)}else i[0]==="$"?o&&l?e.setAttribute(i.substring(1),""):o?e.setAttribute(i.substring(1),o):e.removeAttribute(i.substring(1)):i[0]==="?"?o?e.setAttribute(i.substring(1),""):e.removeAttribute(i.substring(1)):i=="class"?e.setAttribute(i,o):(i[0]==="."&&(i=i.substring(1)),!o&&l?(!u||e[i]!=o)&&(e[i]=""):(!u||e[i]!=o)&&(e[i]=o))}catch(o){this._noWarningOnBindingErrors||console.warn(o.message,' - Failed to bind Property "'+i+'" to expression "'+r+'"',this,e)}}_bindingSetElementCssValue(s,e,t,i,r,a){try{let c=this._bindingRunEval(t,i,null,r,a,s);s.style[e]!==c&&(s.style[e]=c)}catch(c){this._noWarningOnBindingErrors||console.warn(c.message,' - Failed to bind CSS Property "'+e+'" to expression "'+t+'"',this,s)}}_bindingSetElementClass(s,e,t,i,r,a){try{this._bindingRunEval(t,i,null,r,a,s)?s.classList.contains(e)||s.classList.add(e):s.classList.contains(e)&&s.classList.remove(e)}catch(c){this._noWarningOnBindingErrors||console.warn(c.message,'Failed to bind CSS Class "'+e+'" to expression "'+t+'"',this,s)}}_bindingsRefresh(s,e){this._bindings&&this._bindings.forEach(t=>t[0](!1,e))}_bindingsSetValue(obj,path,value,context,repeatBindingItems){if(path==null)return;if(path.includes("[")){let p=path.replaceAll(".[","[");p+="="+value+";",p="try { "+p+" } catch (err) { console.warn(err); }",eval(p);return}let target=obj;path.startsWith("this.")?path=path.substr(5):target=context;let pathParts=path.split(".");for(let s=0;s<pathParts.length-1;s++)if(target!=null){let e=target[pathParts[s]];e==null&&(e={},target[pathParts[s]]=e),target=e}else if(repeatBindingItems){let e=pathParts[s];target=repeatBindingItems.find(t=>t.name==e).item}target[pathParts[pathParts.length-1]]=value}_parseAttributesToProperties(s=!1){if(!this.constructor._propertiesDictionary){this.constructor._propertiesDictionary=new Map;for(let e in this.constructor.properties){let t=this.constructor.properties[e];t.type&&(t=t.type),this.constructor._propertiesDictionary.set(e.replace(/([A-Z])/g,i=>`-${i[0].toLowerCase()}`),[e,t])}}for(let e of this.attributes){let t=this.constructor._propertiesDictionary.get(e.name);t&&(t[1]===Boolean?this[t[0]]=!0:t[1]===Object||t[1]===Array?(s||!e.value.startsWith("{{")&&!e.value.startsWith("[["))&&(this[t[0]]=JSON.parse(e.value)):t[1]===Number?this[t[0]]=parseFloat(e.value):this[t[0]]=e.value)}}async _waitForChildrenReady(){await Promise.all(Array.from(this.shadowRoot.querySelectorAll(":not(:defined)"),s=>customElements.whenDefined(s.localName)))}_restoreCachedInititalValues(){if(this._initialPropertyCache)for(let s of this._initialPropertyCache.entries())delete this[s[0]],this[s[0]]=s[1];this._initialPropertyCache=void 0}_restoreCachedInititalValue(s){this._initialPropertyCache&&this._initialPropertyCache.has(s)&&(delete this[s],this[s]=this._initialPropertyCache.get(s),this._initialPropertyCache.delete(s)),this._initialPropertyCache.size||(this._initialPropertyCache=void 0)}constructor(s,e){if(super(),this._initialPropertyCache=new Map,this.oldValuesSymbol=Symbol("oldValuesSymbol"),_BaseCustomWebComponentNoAttachedTemplate.instanceCreatedCallback&&_BaseCustomWebComponentNoAttachedTemplate.instanceCreatedCallback(this),this.shadowRoot||this.attachShadow({mode:"open"}),s||(s=this.constructor.template),s&&(this._rootDocumentFragment=document.importNode(s.content,!0)),this.templateCloned&&this.templateCloned(),e?e instanceof Promise?e.then(t=>this.shadowRoot.adoptedStyleSheets=[t]):this.shadowRoot.adoptedStyleSheets=[e]:this.constructor.style&&(this.constructor.style instanceof CSSStyleSheet?this.shadowRoot.adoptedStyleSheets=[this.constructor.style]:Array.isArray(this.constructor.style)?this.shadowRoot.adoptedStyleSheets=this.constructor.style:this.constructor.style instanceof Promise&&this.constructor.style.then(t=>this.shadowRoot.adoptedStyleSheets=[t])),this.constructor.properties)for(let t in this.constructor.properties)this.hasOwnProperty(t)&&this._initialPropertyCache.set(t,this[t])}},M=class extends y{constructor(e,t){super(e,t),queueMicrotask(()=>{this._rootDocumentFragment&&this.shadowRoot.appendChild(this._rootDocumentFragment),this.oneTimeSetup&&!this.constructor._oneTimeSetup&&(this.constructor._oneTimeSetup=!0,this.oneTimeSetup()),this.ready&&this.ready()})}},D=class extends y{constructor(e,t){super(e,t),queueMicrotask(()=>{this.oneTimeSetup&&!this.constructor._oneTimeSetup&&(this.constructor._oneTimeSetup=!0,this.oneTimeSetup()),this.ready&&this.ready()}),this._rootDocumentFragment&&this.shadowRoot.appendChild(this._rootDocumentFragment)}},L=class extends y{constructor(e,t){super(e,t),queueMicrotask(()=>{this._rootDocumentFragment&&this.shadowRoot.appendChild(this._rootDocumentFragment)})}connectedCallback(){this.ready&&!this._isReady&&this.ready(),this._isReady=!0}},k=class extends y{constructor(e,t){super(e,t),this._rootDocumentFragment&&this.shadowRoot.appendChild(this._rootDocumentFragment)}connectedCallback(){this.ready&&!this._isReady&&this.ready(),this._isReady=!0}},W=class extends y{constructor(e,t){super(e,t),this._rootDocumentFragment&&this.shadowRoot.appendChild(this._rootDocumentFragment),requestAnimationFrame(()=>{this.oneTimeSetup&&!this.constructor._oneTimeSetup&&(this.constructor._oneTimeSetup=!0,this.oneTimeSetup()),this.ready&&this.ready()})}};var H=class s{static*getAllChildNodes(e,t=!1,i){if(!i||i.indexOf(e)<0){if(e.children)for(let r of e.children){yield r;let a=s.getAllChildNodes(r,t,i);for(let c of a)yield c}if(t&&e.shadowRoot!=null){yield e.shadowRoot;let r=s.getAllChildNodes(e.shadowRoot,t,i);for(let a of r)yield a}}return null}static removeAllChildnodes(e,t){if(t){let i=e.querySelectorAll(t);for(let r of i)r.parentNode==e&&e.removeChild(r)}else for(let i=e.firstChild;i!==null;i=e.firstChild)e.removeChild(i)}static nodeIndex(e){let t=0;for(;(e=e.previousSibling)!=null;)t++;return t}static childIndex(e){for(let t=0;t<e.parentElement.children.length;t++)if(e.parentElement.children[t]==e)return t;return-1}static getHost(e){return e.getRootNode()?.host}static nodeIsChildOf(e,t){for(;e.parentElement;){if(e.parentElement==t)return!0;e=e.parentElement}return!1}static findParentNodeOfWithLocalName(e,t){let i=e;for(;;){if(i.parentElement!=null)i=i.parentElement;else if(i.parentNode!=null&&i.parentNode.host!=null)i=i.parentNode.host;else break;if(i.localName==t)return i}return null}static findParentNodeOfType(e,t){let i=e;for(;;){if(i.parentElement!=null)i=i.parentElement;else if(i.parentNode!=null&&i.parentNode.host!=null)i=i.parentNode.host;else break;if(i instanceof t)return i}return null}};var B=class s{static LoadJavascript(e){let t="_"+e+"-loaded";return s[t]?Promise.resolve(!1):new Promise((i,r)=>{let a=document.createElement("script");a.src=e,a.onload=c=>{s[t]=!0,i(!0)},a.onerror=c=>{r(c)},window.document.head.appendChild(a)})}static LoadJavascripts(...e){let t=[];for(let i of e)t.push(s.LoadJavascript(i));return Promise.all(t)}static LoadText(e){return new Promise(function(t,i){let r=new XMLHttpRequest;r.open("GET",e),r.overrideMimeType("text/plain; charset=x-user-defined"),r.onload=()=>{r.status>=200&&r.status<300?t(r.response):i({status:r.status,statusText:r.statusText})},r.onerror=()=>{i({status:r.status,statusText:r.statusText})},r.send()})}};function ce(s,e,t=!1){var i;return function(){let a=this,c=arguments,m=function(){i=null,t||s.apply(a,c)},_=t&&!i;clearTimeout(i),i=setTimeout(m,e),_&&s.apply(a,c)}}var R=class{constructor(){this.#t=new FinalizationRegistry(e=>{this.#e.delete(e)})}#e=new Set;#t;add(e){let t=new WeakRef(e);return this.#e.add(t),this.#t.register(e,t),t}remove(e){this.#e.delete(e)}*[Symbol.iterator](){for(let e of this.#e){let t=e.deref();t?yield t:this.#e.delete(e)}}};function E(s){return s.replace(/([A-Z])/g,e=>`-${e[0].toLowerCase()}`)}var I=new Map,N=class extends y{#e=!1;constructor(){super()}async connectedCallback(){if(!this.#e){if(this.#e=!0,window[this.localName].template===void 0){window[this.localName].template=window[this.localName]._definingElement.querySelector("template");let e=window[this.localName]._definingElement.querySelectorAll("style[type=adopted-css]");e?.length&&(window[this.localName]._styles=Array.from(e).map(t=>F(t.textContent)))}this._rootDocumentFragment=this.constructor.template.content.cloneNode(!0),this.constructor._styles&&(this.shadowRoot.adoptedStyleSheets=this.constructor._styles),this.constructor._enableBindings&&this._bindingsParse(null,!0),this.shadowRoot.appendChild(this._rootDocumentFragment)}this._parseAttributesToProperties(),this.constructor._enableBindings&&this._bindingsRefresh()}_reapplyTemplateAfterUpdate(){this._bindings=null,this.shadowRoot.innerHTML="",this.shadowRoot.adoptedStyleSheets=[],this.constructor._styles&&(this.shadowRoot.adoptedStyleSheets=this.constructor._styles),this._rootDocumentFragment=this.constructor.template.content.cloneNode(!0),this.shadowRoot.appendChild(this._rootDocumentFragment),this.constructor._enableBindings&&this._bindingsParse(null,!0)}},P=class extends y{static{this.style=j`:host{display:none;}`}static{this.properties={name:String,enableBindings:Boolean,properties:String}}constructor(){super(),this._parseAttributesToProperties();let e={};if(this.properties)if(this.properties[0]==="{"){let i=JSON.parse(this.properties);for(let r in i)typeof i[r]=="string"?e[r]=window[i[r]]:(e[r]=i[r],e[r].type=i[r].type?window[i[r].type]:String)}else e=this.properties.split(/[\s,;]+/).reduce((i,r)=>({...i,[r]:String}),{});let t=this.name;if(window[t])window[t].template=void 0,window[t].properties=e,window[t]._propertiesDictionary=null,window[t]._enableBindings=this.enableBindings,window[t]._definingElement=this,window[t]._styles=null;else{let i=new R;I.set(t,i),window[t]=function(){let r=Reflect.construct(N,[],window[t]);i.add(r);for(let a in e)Object.defineProperty(r,a,{get(){return this["_"+a]},set(c){this["_"+a]!==c&&(this["_"+a]=c,e[a].reflect&&(e[a].type===Boolean?c===!0?this.setAttribute(e[a].attribute??E(a),""):this.removeAttribute(e[a].attribute??E(a)):e[a].type===Object||e[a].type===Array?this.setAttribute(e[a].attribute??E(a),JSON.stringify(c)):this.setAttribute(e[a].attribute??E(a),c)),this.constructor._enableBindings&&this._bindingsRefresh(a),r.dispatchEvent(new CustomEvent(E(a)+"-changed",{detail:{newValue:c}})))},enumerable:!0,configurable:!0}),e[a].default&&(r["_"+a]=e[a].default);return r},window[t].properties=e,window[t]._propertiesDictionary=null,window[t]._enableBindings=this.enableBindings,window[t]._definingElement=this,window[t]._styles=null,window[t].prototype=Object.create(N.prototype,{constructor:{value:window[t]}}),customElements.get(t)||customElements.define(t,window[t])}}upgradeAllInstances(e){window[this.name].template=e??this.querySelector("template");let t=this.querySelectorAll("style[type=adopted-css]");t?.length&&(window[this.name]._styles=Array.from(t).map(r=>F(r.textContent)));let i=I.get(this.name);for(let r of i)r._reapplyTemplateAfterUpdate()}};customElements.define("node-projects-dce",P);function q(s){return typeof s=="function"?s.prototype?Object.getOwnPropertyDescriptor(s,"prototype").writable?"function":"class":s.constructor.name==="AsyncFunction"?"async":"arrow":""}var U=class s{static{this.instances=[]}static enableHMR(){y.instanceCreatedCallback=e=>{s.instances.push(new WeakRef(e))}}static initHMR(e){s.changesFetcher=e,y.instanceCreatedCallback=t=>{s.instances.push(new WeakRef(t))},s.startPolling()}static startPolling(e=100){setTimeout(()=>{s.pollForChanges(e)},e)}static async pollForChanges(e){let t=await s.changesFetcher();t!=null&&s.assertChangedFiles(t),setTimeout(()=>{s.pollForChanges(e)},e)}static assertChangedFiles(e){if(e!=null)for(let t of e)s.assertFileType(t)}static assertFileType(e){switch(e.trim().toLowerCase().split(".").pop()){case"css":console.warn("\u{1F525} Hot reload - css: "+e),s.reloadCss(e);break;case"js":case"cjs":case"mjs":console.warn("\u{1F525} Hot reload - js: "+e),s.reloadJs(e);break;default:break}}static async reloadJs(e){let t=await import(e),i=customElements.define;customElements.define=()=>null;let r=await import(e+"?reload="+new Date().getTime());customElements.define=i;for(let a in r){let c=r[a];if(q(c)=="class"){let m=null,_=s.instances.length;for(;_--;){let u=s.instances[_].deref();if(u){if(c.name==u.constructor.name)if(u._hmrCallback)u._hmrCallback(c);else{let o=-1;if(m=u.constructor,u.constructor.style&&(o=u.shadowRoot.adoptedStyleSheets.indexOf(u.constructor.style),o>=0)){let h=Array.from(u.shadowRoot.adoptedStyleSheets);h.splice(o,1),u.shadowRoot.adoptedStyleSheets=h}if(c.style&&o>=0){let h=Array.from(u.shadowRoot.adoptedStyleSheets);h.splice(o,0,c.style),u.shadowRoot.adoptedStyleSheets=h}u._bindings&&(u.constructor.template=c.template,u._rootDocumentFragment=document.importNode(u.constructor.template.content,!0),u.shadowRoot.innerHTML="",u.shadowRoot.appendChild(u._rootDocumentFragment),u._bindings=null,u._bindingsParse())}}else s.instances.splice(_,1)}m&&(m.constructor.style=c.style)}}for(let a in t){let c=t[a];if(q(c)=="class"){let m=r[a];if(m){let _=Object.getOwnPropertyNames(c);for(let l of _)if(!(l=="prototype"||l=="name"||l=="length")){delete c[l];try{c[l]=m[l]}catch(u){console.error("\u{1F525} Hot reload - error setting property '"+l+"' of '"+c.name+"'",u)}}_=Object.getOwnPropertyNames(c.prototype);for(let l of _)if(!(l=="prototype"||l=="name"||l=="length")){delete c[l];try{c.prototype[l]=m.prototype[l]}catch(u){console.error("\u{1F525} Hot reload - error setting property '"+l+"' of '"+c.name+"'",u)}}}}}}static async reloadCss(e){let t=new Date().getTime();for(let m of document.querySelectorAll(`link[href*="${e}"]`))m.href=m.href.split("?")[0]+"?reload="+t;let i=await import(e,{assert:{type:"css"}}),r=await import(e+"?reload="+t,{assert:{type:"css"}}),a=i.default,c=r.default;a.replace(Array.from(c.cssRules).map(m=>m.cssText).join(""))}};export{k as BaseCustomWebComponentConnectedReady,D as BaseCustomWebComponentConstructorAppend,W as BaseCustomWebComponentConstructorAppendLazyReady,M as BaseCustomWebComponentLazyAppend,L as BaseCustomWebComponentLazyAppendConnectedReady,y as BaseCustomWebComponentNoAttachedTemplate,H as DomHelper,U as HotModuleReplacement,B as LazyLoader,O as PropertyChangedArgs,x as TypedEvent,R as WeakArray,A as addTouchFriendlyContextMenu,j as css,F as cssFromString,J as customElement,ce as debounce,q as getFunctionType,ne as html,ie as htmlFromString,Z as property,K as removeTouchFriendlyContextMenu};
